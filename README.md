# رفيق المسلم — seven_code7

تطبيق ويب شامل يهدف ليكون رفيق المسلم اليومي: قرآن، حديث، تقويم هجري، مسبحة، أذكار، ومساعد ذكي يعتمد Gemini.

## المتطلبات
- Node.js 18 أو أحدث

## التشغيل محليًا
1) انسخ ملف البيئة:

```
cp .env.example .env
```

2) افتح الملف `.env` وضع مفتاح Gemini في المتغير `GEMINI_API_KEY` (لا تضع المفتاح في الكود العام أو ترفعه لمستودع عام):

```
GEMINI_API_KEY=YOUR_KEY_HERE
PORT=5174
SESSION_SECRET=CHANGE_ME
GOOGLE_CLIENT_ID=YOUR_GOOGLE_OAUTH_WEB_CLIENT_ID
```

3) ثبّت الاعتمادات وشغّل الخادم:

```
cd server
npm install
npm start
```

4) افتح المتصفح على: `http://localhost:5174`

> المجلد `client` يُخدم ثابتًا من نفس الخادم، ولا يحتاج أدوات بناء.

## ملاحظات تقنية
- تم توفير وكيل خادمي `POST /api/ai` لاستدعاء Gemini بأمان دون كشف المفتاح للواجهة.
- مصادقة Google: أضف `GOOGLE_CLIENT_ID` و`SESSION_SECRET`، الواجهة تعرض زر تسجيل الدخول وتخزّن جلسة آمنة عبر كوكي.
- تصميم متجاوب بخامة خضراء، ودعم الوضع الليلي بتبديل يدوي. يمكن لاحقًا إضافة تفضيل تلقائي حسب النظام.
- التقويم الهجري يستخدم `Intl`، وعدّاد رمضان يحسب التاريخ القادم بالبحث عن 1 رمضان في تقويم أم القرى.
- أوقات الصلاة حالياً «تقديرية» لأغراض العرض. يُوصى بالتكامل مع مكتبة دقيقة مثل [adhan.js] لحسابات الاحتساب الفلكي والمناطق.
- تشغيل القرآن يعتمد على مصادر خارجية كمثال؛ راجع شروط الاستخدام لمزوّد الصوت قبل الاعتماد.

## تحسينات مقترحة
- إضافة فهرس شامل لنص المصحف (Uthmani) محليًا أو عبر خدمة موثوقة مع التخزين المؤقت.
- تكامل مكتبة الأذان/المواقيت وإشعارات خدمة عاملة (Service Worker) مجدولة.
- نظام نقاط متقدّم وشارات وحفظ مزامَن سحابيًا.
- تخصيص أعمق للواجهة (خطوط، أحجام، خلفيات هادئة)، ووضع قراءة خالٍ من التشتّت.

## حفظ الحقوق
© جميع الحقوق محفوظة لاستوديو seven_code7 والمطور ليث.
